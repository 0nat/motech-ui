<div class="button-group">
    <button class="icon-export" ng-click="showExportModal()">{{ 'email.logging.export' | translate }}</button>
    <button class="icon-filter motech-sidebar-button">{{ 'email.logging.filters' | translate }}</button>
</div>
<motech-list service="emailLogsService" paginated>
    <motech-list-item ng-repeat="log in logs">
        <span motech-list-column="id" title="" fitted >{{log.id}}</span> 
        <span motech-list-column="status" title="Status" fitted sortable>{{log.deliveryStatus}}</span>
        <span motech-list-column="toAddress" title="To" sortable>{{log.toAddress}}</span>
        <span motech-list-column="fromAddress" title="From" sortable>{{log.fromAddress}}</span>
        <span motech-list-column="subject" title="Subject" sortable>{{log.subject}}</span>
        <span motech-list-column="deliveryTime" title="Delivery Time" sortable>{{log.deliveryTime}}</span>
    </motech-list-item>
</motech-list>
<uib-pagination total-items="totalItems" ng-model="currentPage" ng-change="pageChanged()"></uib-pagination>
<motech-sidebar title="{{ 'email.logging.filters' | translate }}">
    <form>
        <fieldset>
            <legend>{{ 'email.logging.search' | translate }}</legend>
            <div class="form-group">
                <label for="logsSubject" class="placeholder">{{'email.logging.search' | translate }}</label>
                <input id="logsSubject" type="text" ng-model="search.subject" />
            </div>
        </fieldset>
        <fieldset>
            <legend>{{ 'email.logging.creationDate' | translate }}</legend>
            <div class="form-group">
                <label for="timeFrom" class="placeholder">{{'email.logging.fromAddress' | translate}}</label>
                <input id="timeFrom" date-picker ng-model="search.timeFrom" max="search.timeTo" type="datetime" />
            </div>
            <div class="form-group">
                <label for="timeTo" class="placeholder">{{'email.logging.toAddress' | translate}}</label>
                <input id="timeTo" date-picker ng-model="search.timeTo" min="search.timeFrom" type="datetime"  />
            </div>
        </fieldset>
        <fieldset>
            <legend>{{'email.logging.disposition' | translate }}</legend>
            <div class="input-group">
                <label class="checkbox">
                    <input type="checkbox" checklist-model="search.deliveryStatus" checklist-value="'ERROR'" />
                    {{'email.logging.error' | translate}}
                </label>
                <label class="checkbox">
                    <input type="checkbox" checklist-model="search.deliveryStatus" checklist-value="'SENT'" />
                    {{'email.logging.sent' | translate}}
                </label>            
                <label class="checkbox">
                    <input type="checkbox" checklist-model="search.deliveryStatus" checklist-value="'RECEIVED'" />
                    {{'email.logging.received' | translate}}
                </label>
            </div>
        </fieldset>
    </form>
</motech-sidebar>